{"name":"Rpos","tagline":"Raspberry Pi Onvif Server","body":"# rpos\r\nRaspberry Pi Onvif Server\r\n\r\nNode.js based Onvif Soap service. (http://www.onvif.org) \r\n\r\nInitial goal is to provide a Onvif Media service which is compatible with Synology Surveillance Station.\r\nThis allows the Pi to be used as a surveillance camera without the need for adding any custom camera files to your Synology NAS.\r\nFirst demo video @ https://youtu.be/ZcZbF4XOH7E\r\n\r\nThis version uses a patched version of the \"node-soap\" v0.80 library (https://github.com/vpulim/node-soap/releases/tag/v0.8.0) located @ https://github.com/BreeeZe/node-soap\r\n\r\n#Features:\r\n\r\n- Streams H264 video over rtsp\r\n- Camera control (resolution and framerate) through Onvif\r\n\r\n#How to:\r\n\r\nInstall the live555 library to stream h264 video over rtsp [ source http://forum.synology.com/enu/viewtopic.php?f=82&t=69224&start=15#p289293 ] :\r\n\r\n\t*login to your pi via ssh\r\n\tcd /home/pi/\r\n\twget http://www.live555.com/liveMedia/public/live555-latest.tar.gz\r\n\ttar xvzf live555-latest.tar.gz\r\n\tcd live\r\n\t./genMakefiles linux\r\n\tmake\r\n\t#delete sources\r\n\tcd ..\r\n\trm live -r -f\r\n\r\nInstall nodejs on your pi (http://weworkweplay.com/play/raspberry-pi-nodejs/):\r\n\r\n\twget http://node-arm.herokuapp.com/node_latest_armhf.deb\r\n\tsudo dpkg -i node_latest_armhf.deb\r\n\r\nDownload rpos master from github to your pi\r\n\t\r\n\twget https://github.com/BreeeZe/rpos/archive/master.zip\r\n\tunzip master.zip\r\n\tcd rpos-master\r\n\tnpm install\r\n\tsudo chmod -R a+rwx ./bin/rtspServer\r\n\t\r\nBe sure to configure the ipaddress, service port, rtsp stream name and rtsp port in \"config.js\" (\"nano config.js\")\r\nFor now you can set V-flip or H-flip in the file \"./lib/camera.js\"\r\n\r\n\tCamera.prototype.settings = {\r\n  \t  hf : false, //horizontal flip\r\n\t  vf : true, //vertical flip\r\n\t  drc : 2, //0=OFF, 1=LOW, 2=MEDIUM, 3=HIGH\r\n\t  gop : 2, //keyframe every X sec.\r\n\t  forceGop : true,\r\n\t  resolution : { Width : 1280, Height: 720 },\r\n\t  framerate : 30,\r\n\t  bitrate : 7500,\r\n\t  profile : \"Baseline\",\r\n\t  quality : null,\r\n\t  exposure : \"auto\"\r\n\t};\r\n\r\nThen you start rpos by running \"sudo node server.js\"\r\n\r\n#Known Issues\r\n- 1920x1080 can cause hangs and crashes.\r\n\r\n#ToDo's\r\n- Add authentication\r\n- Add MJPEG\r\n- Implement more ONVIF calls\r\n- and more...\r\n","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}